<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pondok Pesantren Miftahul Jannah</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-green: #1b4332;
            --accent-green: #2d6a4f;
            --light-green: #d8f3dc;
        }
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .bg-ponpes { background-color: var(--primary-green); }
        .text-ponpes { color: var(--primary-green); }
        .hover-ponpes:hover { background-color: var(--accent-green); }
        
        #hero-section {
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1590076214667-c0f3531682b8?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            transition: background-image 0.5s ease-in-out;
        }

        .insta-link {
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Navigasi -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="https://www.instagram.com/miftahuljannah14698?igsh=MTlyaHdmdnAyNGozcA==" target="_blank" class="flex items-center space-x-2 insta-link">
                <div class="w-10 h-10 bg-ponpes rounded-full flex items-center justify-center text-white">
                    <i class="fas fa-mosque"></i>
                </div>
                <span class="text-xl font-bold text-ponpes">Miftahul Jannah</span>
            </a>
            <div class="hidden md:flex space-x-8 font-medium">
                <a href="#home" class="hover:text-green-600 transition">Home</a>
                <a href="#informasi" class="hover:text-green-600 transition">Informasi</a>
                <a href="#daftar" class="hover:text-green-600 transition">Daftar Online</a>
                <a href="#profile" class="hover:text-green-600 transition">Profile</a>
                <a href="#album" class="hover:text-green-600 transition">Album</a>
                <a href="#donasi" class="hover:text-green-600 transition">Donasi</a>
            </div>
            <button class="md:hidden text-2xl"><i class="fas fa-bars"></i></button>
        </div>
    </nav>

    <!-- Header / Hero Section -->
    <header id="hero-section" class="relative h-[500px] flex items-center justify-center text-center text-white px-4">
        <div class="relative">
            <h1 class="text-4xl md:text-6xl font-extrabold mb-4">Pondok Pesantren Miftahul Jannah</h1>
            <p class="text-lg md:text-xl max-w-2xl mx-auto mb-8">Mencetak Generasi Qur'ani, Berakhlak Mulia, dan Berwawasan Luas.</p>
            <a href="#daftar" class="bg-green-600 hover:bg-green-700 px-8 py-3 rounded-full font-bold transition">Daftar Sekarang</a>
        </div>
        
        <!-- Tombol Kecil Edit Header -->
        <div class="absolute top-4 right-4">
            <button onclick="triggerAdmin('header')" class="bg-black/40 hover:bg-black/60 text-white p-2 rounded text-[10px] uppercase tracking-tighter transition">
                <i class="fas fa-edit"></i> Edit
            </button>
        </div>
    </header>

    <!-- Visi Misi & PSB -->
    <main id="home" class="container mx-auto px-6 py-16">
        <div class="grid md:grid-cols-2 gap-12">
            <!-- Visi & Misi -->
            <div class="space-y-8" id="profile">
                <div>
                    <h2 class="text-3xl font-bold text-ponpes mb-4 border-l-4 border-green-600 pl-4">Visi</h2>
                    <p class="text-gray-600 italic">"Menjadi pusat pendidikan Islam yang unggul dalam melahirkan kader umat yang bertaqwa, cerdas, dan mandiri berlandaskan Al-Qur'an dan As-Sunnah."</p>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-ponpes mb-4 border-l-4 border-green-600 pl-4">Misi</h2>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li>Menyelenggarakan pendidikan tahfidz Al-Qur'an dan ilmu syar'i secara intensif.</li>
                        <li>Membentuk karakter santri melalui pembiasaan akhlakul karimah.</li>
                        <li>Mengembangkan potensi minat dan bakat santri dalam bidang akademik dan non-akademik.</li>
                    </ul>
                </div>
            </div>

            <!-- Informasi PSB -->
            <div id="informasi" class="bg-white p-8 rounded-2xl shadow-xl border-t-8 border-green-600">
                <h2 class="text-2xl font-bold mb-4 text-center">Penerimaan Santri Baru (PSB)</h2>
                <div class="bg-green-50 p-4 rounded-lg mb-6 text-center">
                    <p class="font-bold text-green-800">Tahun Ajaran 2025/2026</p>
                    <p class="text-sm">Gelombang I: Jan - Maret 2025</p>
                </div>
                <div class="space-y-4 text-sm text-gray-700">
                    <p><strong>Persyaratan:</strong></p>
                    <ul class="list-decimal list-inside space-y-1">
                        <li>Fotokopi Akta Kelahiran & KK</li>
                        <li>Pas Foto 3x4 (4 lembar)</li>
                        <li>Lulus Tes Baca Al-Qur'an</li>
                        <li>Surat Keterangan Sehat</li>
                    </ul>
                </div>
                <button id="daftar-btn" class="w-full mt-6 bg-ponpes text-white py-3 rounded-lg font-bold hover-ponpes transition">Klik Daftar Online</button>
            </div>
        </div>
    </main>

    <!-- Album Section -->
    <section id="album" class="bg-white py-16">
        <div class="container mx-auto px-6">
            <div class="flex justify-between items-end mb-8">
                <h2 class="text-3xl font-bold text-ponpes">Album Kegiatan</h2>
                <button onclick="triggerAdmin('album')" class="text-[10px] bg-gray-100 hover:bg-gray-200 text-gray-500 p-1 px-2 rounded transition border border-gray-200">
                    <i class="fas fa-plus"></i> Tambah Foto
                </button>
            </div>
            
            <!-- Grid Album Kosong Secara Default -->
            <div id="album-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4 min-h-[100px] flex items-center justify-center border-2 border-dashed border-gray-100 rounded-xl">
                <p id="empty-album-msg" class="col-span-full text-center text-gray-400 py-10 text-sm">Belum ada foto. Klik "Tambah Foto" untuk mengunggah.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="donasi" class="bg-ponpes text-white pt-16 pb-8">
        <div class="container mx-auto px-6 grid md:grid-cols-3 gap-12">
            <!-- Kontak -->
            <div>
                <h3 class="text-xl font-bold mb-6">Kontak Kami</h3>
                <p class="text-green-100 mb-4 text-sm">
                    Alamat: Jl. Pesantren No. 14, Miftahul Jannah, Indonesia.
                </p>
                <div class="space-y-2 text-sm">
                    <p><i class="fas fa-phone mr-2"></i> +62 812-3456-7890</p>
                    <p><i class="fas fa-envelope mr-2"></i> admin@miftahuljannah.ponpes.id</p>
                </div>
            </div>

            <!-- Menu -->
            <div>
                <h3 class="text-xl font-bold mb-6">Navigasi</h3>
                <ul class="space-y-3 text-green-100 text-sm">
                    <li><a href="#home" class="hover:underline">Home</a></li>
                    <li><a href="#informasi" class="hover:underline">Informasi</a></li>
                    <li><a href="https://www.instagram.com/miftahuljannah14698?igsh=MTlyaHdmdnAyNGozcA==" class="hover:underline">Instagram Resmi</a></li>
                </ul>
            </div>

            <!-- Sosial Media -->
            <div>
                <h3 class="text-xl font-bold mb-6">Sosial Media</h3>
                <div class="flex space-x-4 mb-6">
                    <a href="https://www.instagram.com/miftahuljannah14698?igsh=MTlyaHdmdnAyNGozcA==" target="_blank" class="w-10 h-10 bg-white/10 flex items-center justify-center rounded-full hover:bg-white/20 transition">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="w-10 h-10 bg-white/10 flex items-center justify-center rounded-full hover:bg-white/20 transition">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="w-10 h-10 bg-white/10 flex items-center justify-center rounded-full hover:bg-white/20 transition">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
                <p class="text-xs">Follow <a href="https://www.instagram.com/miftahuljannah14698?igsh=MTlyaHdmdnAyNGozcA==" target="_blank" class="underline">Instagram Miftahul Jannah</a> untuk update harian.</p>
            </div>
        </div>
        <div class="text-center mt-12 text-xs opacity-50 border-t border-white/10 pt-8">
            &copy; 2025 Miftahul Jannah. All Rights Reserved.
        </div>
    </footer>

    <!-- Admin Logic Elements -->
    <input type="file" id="admin-uploader" class="hidden" accept="image/*">
    <div id="modal-admin" class="fixed inset-0 bg-black/70 hidden z-[100] flex items-center justify-center p-4">
        <div class="bg-white p-6 rounded-lg w-full max-w-xs shadow-2xl">
            <h4 class="font-bold mb-4 text-center">Verifikasi Admin</h4>
            <input type="password" id="pass-field" class="w-full border p-2 mb-4 rounded" placeholder="Password...">
            <div class="flex space-x-2">
                <button onclick="closeModal()" class="flex-1 text-sm bg-gray-200 py-2 rounded">Batal</button>
                <button onclick="checkAuth()" class="flex-1 text-sm bg-ponpes text-white py-2 rounded">Masuk</button>
            </div>
        </div>
    </div>

    <script>
        const VALID_PASS = "miftahuljannah1998";
        let activeMode = ''; // 'header' atau 'album'

        function triggerAdmin(mode) {
            activeMode = mode;
            document.getElementById('modal-admin').classList.remove('hidden');
            document.getElementById('pass-field').focus();
        }

        function closeModal() {
            document.getElementById('modal-admin').classList.add('hidden');
            document.getElementById('pass-field').value = '';
        }

        function checkAuth() {
            const input = document.getElementById('pass-field').value;
            if (input === VALID_PASS) {
                document.getElementById('modal-admin').classList.add('hidden');
                document.getElementById('admin-uploader').click();
            } else {
                alert("Password Salah!");
            }
        }

        // Handle File Selection
        document.getElementById('admin-uploader').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(event) {
                const imgResult = event.target.result;

                if (activeMode === 'header') {
                    const hero = document.getElementById('hero-section');
                    hero.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('${imgResult}')`;
                    alert("Header berhasil diubah!");
                } else if (activeMode === 'album') {
                    const grid = document.getElementById('album-grid');
                    const emptyMsg = document.getElementById('empty-album-msg');
                    
                    // Sembunyikan pesan kosong jika ini foto pertama
                    if (emptyMsg) {
                        emptyMsg.remove();
                        grid.classList.remove('flex', 'items-center', 'justify-center', 'border-2', 'border-dashed');
                    }

                    const newImg = document.createElement('img');
                    newImg.src = imgResult;
                    newImg.className = "rounded-lg h-48 w-full object-cover shadow hover:scale-105 transition duration-300";
                    grid.prepend(newImg);
                    alert("Foto berhasil ditambahkan ke album!");
                }
                
                e.target.value = '';
            };
            reader.readAsDataURL(file);
        });

        document.getElementById('pass-field').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                checkAuth();
            }
        });
    </script>
</body>
</html>